/*! soma-interact - v0.0.1 - Romuald Quantin - 2012-11-28
* http://soundstep.github.com/soma-interact/
* MIT licence 2012 */
(function(e,t){"use strict";function a(e){return e?e.nodeType>0:!1}function f(e){return e&&typeof e=="function"}function l(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=l.guid++),e.events||(e.events={});var r=e.events[t];r||(r=e.events[t]={},e["on"+t]&&(r[0]=e["on"+t])),r[n.$$guid]=n,e["on"+t]=h}}function c(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.events&&e.events[t]&&delete e.events[t][n.$$guid]}function h(e){var t=!0;e=e||p(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[e.type];for(var r in n)this.$$handleEvent=n[r],this.$$handleEvent(e)===!1&&(t=!1);return t}function p(e){return e.preventDefault=p.preventDefault,e.stopPropagation=p.stopPropagation,e}function v(e,t,n){var r=t.match(/(.*)\((.*)\)/);if(r){var i=r[1];if(f(e[i]))return e[i]}}function m(e,n,i){r=i===t?Number.MAX_VALUE:i,g(e,n,0)}function g(e,t,n){if(!a(e))throw new Error("Error in soma.interact.parse, only a DOM Element can be parsed.");y(e,t);var i=e.firstChild;while(i)i.nodeType===1&&(n<r&&g(i,t,n++),y(i,t)),i=i.nextSibling}function y(e,t){var n=[];for(var r,i,s,o=e.attributes,a=0,f=o&&o.length;a<f;a++){r=o[a];if(r.specified){i=r.name,s=r.value;if(u[i]){var c=v(t,s,e);c&&(l(e,u[i],c),w(e,u[i],c))}}}}function b(e){var t=i.length,n=0;while(--t>=n){var r=i[t];if(e===r.element||d(e,r.element))c(r.element,r.type,r.handler),i.splice(t,1)}}function w(e,t,n){i.push({element:e,type:t,handler:n})}function E(){}function x(e,t){}e.interact=e.interact||{},e.interact.version="0.0.1";var n=e.interact.errors={},r,i=[],s=e.interact.settings=e.interact.settings||{},o=s.attributes={click:"data-click",dblclick:"data-dblclick",mousedown:"data-mousedown",mouseup:"data-mouseup",mouseover:"data-mouseover",mouseout:"data-mouseout",mousemove:"data-mousemove",mouseenter:"data-mouseenter",mouseleave:"data-mouseleave",keydown:"data-keydown",keyup:"data-keyup",focus:"data-focus",blur:"data-blur",change:"data-change"},u={};u[o.click]="click",u[o.dblclick]="dblclick",u[o.mousedown]="mousedown",u[o.mouseup]="mouseup",u[o.mouseover]="mouseover",u[o.mouseout]="mouseout",u[o.mousemove]="mousemove",u[o.mouseenter]="mouseenter",u[o.mouseleave]="mouseleave",u[o.keydown]="keydown",u[o.keyup]="keyup",u[o.focus]="focus",u[o.blur]="blur",u[o.change]="change",l.guid=1,p.preventDefault=function(){this.returnValue=!1},p.stopPropagation=function(){this.cancelBubble=!0};var d=document.documentElement.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:document.documentElement.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},S=function(e,t){return t=document,e?function(e){var n=t.firstChild,r=function(){try{e(n.doScroll("left"))}catch(t){setTimeout(r,10)}};r()}:/webkit|safari|khtml/i.test(navigator.userAgent)?function(e){var n=function(){/loaded|complete/.test(t.readyState)?e():setTimeout(n,10)};n()}:function(e){t.addEventListener("DOMContentLoaded",e,!1)}}();S(function(){}),e.plugins=e.plugins||{},e.plugins&&e.plugins.add&&e.plugins.add(x),e.interact.parse=m,e.interact.clear=b,e.interact.addEvent=l,e.interact.removeEvent=c,typeof define=="function"&&define.amd&&define("soma-interact",e.interact),typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(exports=module.exports=e.interact),exports=e.interact)})(this.soma=this.soma||{});